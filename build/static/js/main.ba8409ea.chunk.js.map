{"version":3,"sources":["components/CartItems.jsx","hooks/useActions.js","redux/reducers/cart/actions.js","redux/reducers/cart/actionCreator.js","pages/Cart.jsx","redux/reducers/login/actions.js","redux/reducers/login/actionCreators.js","pages/Login.jsx","pages/Product.jsx","components/Search.jsx","components/ProductCard.jsx","components/ProductList.jsx","components/Filters.jsx","redux/reducers/products/actions.js","redux/reducers/products/actionCreators.js","pages/Products.jsx","data/pages.js","routes.js","hooks/useSearch.js","components/AppRouter.jsx","components/Header.jsx","App.js","redux/reducers/cart/cartReducer.js","redux/reducers/login/loginReducer.js","redux/reducers/products/productsReducer.js","redux/reducers/rootReducer.js","redux/store.js","index.js"],"names":["CartItems","card","onClick","style","marginTop","type","title","extra","id","text","price","useActions","actionCreator","dispatch","useDispatch","bindActionCreators","ADD_CART_ITEM","REMOVE_CART_ITEM","GET_TOTAL_SUM","cartActionCreators","addItem","item","payload","removeItem","getSum","Content","Layout","Cart","useSelector","state","cart","items","totalPrice","removeCartItem","useEffect","localStorage","setItem","JSON","stringify","margin","length","map","SET_AUTH","SET_USER","SET_ERROR","SET_IS_LOADING","AuthActionCreators","setUser","user","setAuth","auth","setIsLoading","setError","login","username","password","a","setTimeout","axios","get","response","mockUser","data","find","e","logout","Login","error","isLoading","useState","setUsername","setPassword","justify","onFinish","color","marginBottom","Item","label","name","rules","required","message","value","onChange","target","Password","wrapperCol","offset","span","htmlType","loading","Product","Search","placeholder","ProductCard","isAdd","setIsAdd","forEach","width","disabled","ProductList","cards","className","Title","marginLeft","Option","Select","Filters","options","option","SET_PRODUCTS","PRODUCTS_ERROR","PRODUCTS_LOADING","productsActionCreators","setLoading","boolean","setProducts","fetchProducts","PRODUCTS","LOGIN","CART","PUBLIC_ROUTES","path","component","setValue","selectedSort","setSelectedSort","products","searchedAndSortedCards","arr","sorted","useMemo","sort","b","localeCompare","filter","includes","toLowerCase","useSearch","PRODUCT","AppRouter","exact","to","Header","history","useHistory","isAuth","theme","mode","push","alert","App","getItem","parse","initialState","getTotalSum","sum","i","cartReducer","action","loginReducer","productsReducer","rootReducers","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba8409ea.chunk.js","sourcesContent":["import { Card, Button } from 'antd';\r\n\r\nconst CartItems = ({ card, onClick }) => {\r\n\r\n  function removeItem() {\r\n    onClick(card.id)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card\r\n        style={{ marginTop: 10, }}\r\n        type=\"inner\"\r\n        title={card.title}\r\n        extra={<Button onClick={removeItem}>Убрать из корзины</Button>}\r\n      >\r\n        <p>{card.text}</p>\r\n        <p>{card.price}</p>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartItems","import { useDispatch } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nexport function useActions(actionCreator) {\r\n  const dispatch = useDispatch()\r\n  return bindActionCreators(actionCreator, dispatch)\r\n}","export const ADD_CART_ITEM = 'ADD_CART_ITEM'\r\nexport const REMOVE_CART_ITEM = 'REMOVE_CART_ITEM'\r\nexport const GET_TOTAL_SUM = 'GET_TOTAL_SUM'\r\n","import { ADD_CART_ITEM, GET_TOTAL_SUM, REMOVE_CART_ITEM } from \"./actions\";\r\n\r\nconst cartActionCreators = {\r\n  addItem: (item) => ({type: ADD_CART_ITEM, payload: item}),\r\n  removeItem: (id) => ({type: REMOVE_CART_ITEM, payload: id}),\r\n  getSum: () => ({type: GET_TOTAL_SUM}),\r\n}\r\n\r\nexport default cartActionCreators","import { Layout } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport CartItems from '../components/CartItems';\r\nimport { useActions } from '../hooks/useActions';\r\nimport cartActionCreators from '../redux/reducers/cart/actionCreator';\r\n\r\nconst { Content } = Layout;\r\n\r\nconst Cart = () => {\r\n\r\n  const { items, totalPrice } = useSelector(state => state.cart)\r\n  const { removeItem, getSum } = useActions(cartActionCreators)\r\n\r\n  function removeCartItem(id) {\r\n    removeItem(id)\r\n    getSum()\r\n  }\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('cartItems', JSON.stringify(items))\r\n  }, [items])\r\n\r\n  return (\r\n    <Layout>\r\n      <Content style={{ margin: 30, }}>\r\n        {items.length\r\n          ?\r\n          <>\r\n            <div>\r\n              {items.map(item =>\r\n                <CartItems card={item} key={item.id} onClick={removeCartItem} />\r\n              )}\r\n            </div>\r\n            <h1>{totalPrice}</h1>\r\n          </>\r\n          :\r\n          <h1>Корзина пока пуста</h1>\r\n        }\r\n      </Content>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Cart","export const SET_AUTH = 'SET_AUTH' \r\nexport const SET_USER = 'SET_USER' \r\nexport const SET_ERROR = 'SET_ERROR' \r\nexport const SET_IS_LOADING = 'SET_IS_LOADING' \r\n","import { SET_AUTH, SET_ERROR, SET_IS_LOADING, SET_USER } from \"./actions\";\r\nimport axios from 'axios'\r\n\r\nexport const AuthActionCreators = {\r\n  setUser: (user) => ({ type: SET_USER, payload: user }),\r\n  setAuth: (auth) => ({ type: SET_AUTH, payload: auth }),\r\n  setIsLoading: (payload) => ({ type: SET_IS_LOADING, payload: payload }),\r\n  setError: (payload) => ({ type: SET_ERROR, payload: payload }),\r\n  login: (username, password) => async (dispatch) => {\r\n    try {\r\n      dispatch(AuthActionCreators.setIsLoading(true))\r\n      setTimeout(async () => {\r\n        const response = await axios.get('./users.json')\r\n        const mockUser = response.data.find(user => user.username === username && user.password === password)\r\n        if (mockUser) {\r\n          localStorage.setItem('auth', 'true')\r\n          localStorage.setItem('username', mockUser.username)\r\n          dispatch(AuthActionCreators.setAuth(true))\r\n          dispatch(AuthActionCreators.setUser(mockUser))\r\n        } else {\r\n          dispatch(AuthActionCreators.setError('Неверный логин или пароль!'))\r\n        }\r\n      }, 1000);\r\n    } catch (e) {\r\n      dispatch(AuthActionCreators.setError('Произошла ошибка'))\r\n    }\r\n  },\r\n  logout: () => (dispatch) => {\r\n    localStorage.removeItem('auth')\r\n    localStorage.removeItem('username')\r\n    dispatch(AuthActionCreators.setAuth(false))\r\n    dispatch(AuthActionCreators.setUser({}))\r\n  }\r\n}","import { Form, Input, Button, Row } from 'antd';\r\nimport { useState } from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport { useActions } from '../hooks/useActions';\r\nimport { AuthActionCreators } from '../redux/reducers/login/actionCreators';\r\n\r\n\r\nconst Login = () => {\r\n\r\n  const { error, isLoading } = useSelector(state => state.login)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const { login } = useActions(AuthActionCreators)\r\n\r\n  function sumbitHandler() {\r\n    login(username, password)\r\n    // if (!error) {\r\n    // setUsername('')\r\n    // setPassword('')\r\n    // }\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <Row justify='center' style={{ marginTop: 50, }}>\r\n      <Form\r\n        onFinish={sumbitHandler}\r\n      >\r\n        {error &&\r\n          <div style={{ color: 'red', marginBottom: 10, }}>{error}</div>\r\n        }\r\n        <Form.Item\r\n          label=\"Username\"\r\n          name=\"username\"\r\n          rules={[{ required: true, message: 'Please input your username!' }]}\r\n        >\r\n          <Input value={username} onChange={e => setUsername(e.target.value)} />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Input.Password value={password} onChange={e => setPassword(e.target.value)} />\r\n        </Form.Item>\r\n        <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={isLoading}>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Row >\r\n  )\r\n}\r\n\r\nexport default Login","\r\n\r\nconst Product = () => {\r\n  return (\r\n    <div>\r\n      Страница продукта\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Product","import { Input } from 'antd';\r\n\r\nconst Search = ({ value, onChange }) => {\r\n  return (\r\n    <div style={{ marginBottom: 40, }}>\r\n      <Input value={value} onChange={e => onChange(e)} placeholder=\"Search\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search","import { Card, Button } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst ProductCard = ({ card, onClick }) => {\r\n\r\n  const [isAdd, setIsAdd] = useState(false)\r\n  const { items } = useSelector(state => state.cart)\r\n\r\n  function setItem() {\r\n    onClick(card)\r\n    setIsAdd(!isAdd)\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('cartItems', JSON.stringify(items))\r\n  }, [isAdd])\r\n\r\n  useEffect(() => {\r\n    items.forEach(item => {\r\n      if (item.id === card.id) {\r\n        setIsAdd(!isAdd)\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <Card title={card.title} style={{ width: 300, margin: 10, }}>\r\n      <p>{card.text}</p>\r\n      <p>{card.price}</p>\r\n      <Button\r\n        type=\"primary\"\r\n        onClick={setItem}\r\n        disabled={isAdd}\r\n      >\r\n        Добавить в корзину\r\n      </Button>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default ProductCard","import ProductCard from \"./ProductCard\"\r\nimport { Typography } from 'antd';\r\nimport { useActions } from '../hooks/useActions';\r\nimport cartActionCreators from '../redux/reducers/cart/actionCreator';\r\n\r\nconst ProductList = ({ cards }) => {\r\n\r\n  const { addItem, getSum } = useActions(cartActionCreators)\r\n\r\n  function setItem(item) {\r\n    addItem(item)\r\n    getSum()\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {cards.length\r\n        ?\r\n        cards.map(card =>\r\n          <ProductCard\r\n            key={card.id}\r\n            card={card}\r\n            onClick={setItem}\r\n          />\r\n        )\r\n        :\r\n        <Typography.Title style={{ marginLeft: 10, }}>Таких товаров нет!</Typography.Title>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductList","import { Select } from 'antd';\r\n\r\nconst { Option } = Select;\r\n\r\nconst Filters = ({ placeholder, options, onChange }) => {\r\n\r\n  return (\r\n    <div>\r\n      <Select placeholder={placeholder} style={{ width: 220 }} onChange={onChange} >\r\n        {options.map(option =>\r\n          <Option key={option.value} value={option.value}>{option.name}</Option>\r\n        )}\r\n      </Select>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filters","export const SET_PRODUCTS = 'SET_PRODUCTS'\r\nexport const PRODUCTS_ERROR = 'PRODUCTS_ERROR'\r\nexport const PRODUCTS_LOADING = 'PRODUCTS_LOADING'","import axios from \"axios\";\r\nimport { SET_PRODUCTS, PRODUCTS_ERROR, PRODUCTS_LOADING } from \"./actions\";\r\n\r\nexport const productsActionCreators = {\r\n  setLoading: (boolean) => ({ type: PRODUCTS_LOADING, payload: boolean }),\r\n  setError: (payload) => ({ type: PRODUCTS_ERROR, payload: payload }),\r\n  setProducts: (payload) => ({ type: SET_PRODUCTS, payload: payload }),\r\n  fetchProducts: () => async (dispatch) => {\r\n    try {\r\n      dispatch(productsActionCreators.setLoading(true))\r\n\r\n      setTimeout(async () => {\r\n        const response = await axios.get('./products.json')\r\n        dispatch(productsActionCreators.setProducts(response.data))\r\n      }, 400);\r\n    } catch (e) {\r\n      dispatch(productsActionCreators.setError(`Произошла обшибка: ${e}`))\r\n    }\r\n  }\r\n}\r\n\r\n","import { Layout, Row, Col, } from 'antd';\r\nimport Search from '../components/Search'\r\nimport { useEffect, useState } from 'react'\r\nimport ProductList from '../components/ProductList';\r\nimport Filters from '../components/Filters';\r\nimport { useSearch } from '../hooks/useSearch';\r\nimport { useSelector } from 'react-redux';\r\nimport { useActions } from '../hooks/useActions';\r\nimport { productsActionCreators } from '../redux/reducers/products/actionCreators';\r\n\r\nconst { Content } = Layout;\r\n\r\nconst Products = () => {\r\n\r\n  const [value, setValue] = useState('')\r\n  const [selectedSort, setSelectedSort] = useState('')\r\n  const { products, loading } = useSelector(state => state.products)\r\n  const { fetchProducts } = useActions(productsActionCreators)\r\n\r\n  useEffect(() => {\r\n    fetchProducts()\r\n  }, [])\r\n\r\n  const searchedAndSortedCards = useSearch(products, selectedSort, value)\r\n\r\n  function sortCards(value) {\r\n    setSelectedSort(value)\r\n  }\r\n\r\n  return (\r\n    <Layout style={{ margin: 40, }}>\r\n      <Content>\r\n        <Row>\r\n          <Col span={6}>\r\n            <Filters\r\n              placeholder='Сортировка'\r\n              options={[\r\n                { value: 'title', name: 'По названию' },\r\n                { value: 'text', name: 'По описанию' },\r\n              ]}\r\n              onChange={sortCards}\r\n            />\r\n          </Col>\r\n          <Col span={18}>\r\n            <Search value={value} onChange={(e) => setValue(e.target.value)} />\r\n          </Col>\r\n        </Row>\r\n        {!loading\r\n          ?\r\n            <ProductList cards={searchedAndSortedCards} />\r\n          :\r\n            <h1>Идет загрузка</h1>\r\n        }\r\n      </Content>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Products","\r\n\r\nexport const PRODUCTS = '/products'\r\nexport const PRODUCT = '/product'\r\nexport const LOGIN = '/login'\r\nexport const CART = '/cart'","import Cart from \"./pages/Cart\";\r\nimport Login from \"./pages/Login\";\r\nimport Product from \"./pages/Product\";\r\nimport Products from \"./pages/Products\";\r\nimport { CART, LOGIN, PRODUCT, PRODUCTS } from \"./data/pages\";\r\n\r\n\r\nexport const PUBLIC_ROUTES = [\r\n  {\r\n    path: PRODUCTS,\r\n    component: Products,\r\n  },\r\n  {\r\n    path: PRODUCT + '/:id',\r\n    component: Product,\r\n  },\r\n  {\r\n    path: LOGIN,\r\n    component: Login,\r\n  },\r\n  {\r\n    path: CART,\r\n    component: Cart,\r\n  },\r\n]","import { useMemo } from \"react\"\r\n\r\n\r\nexport const useSearch = ((arr, selectedSort, value) => {\r\n\r\n  const sorted = useMemo(() => {\r\n    if (selectedSort) {\r\n      return [...arr].sort((a, b) => a[selectedSort].localeCompare(b[selectedSort]))\r\n    }\r\n    return arr\r\n  }, [arr, selectedSort])\r\n\r\n  const sortAndSearch = useMemo(() => {\r\n    return [...sorted].filter(item => item.title.includes(value.toLowerCase()))\r\n  }, [sorted, value])\r\n\r\n  return sortAndSearch\r\n})\r\n\r\n","import { Route, Switch, Redirect } from 'react-router-dom'\r\nimport { PUBLIC_ROUTES } from '../routes';\r\n\r\nconst AppRouter = () => {\r\n  return (\r\n    <Switch>\r\n      {PUBLIC_ROUTES.map(({ path, component }) =>\r\n        <Route key={path} path={path} component={component} exact />\r\n      )}\r\n      <Redirect to={'/products'} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default AppRouter\r\n","import { Layout, Menu, Row } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { CART, LOGIN, PRODUCTS } from '../data/pages';\r\nimport { useActions } from '../hooks/useActions';\r\nimport { AuthActionCreators } from '../redux/reducers/login/actionCreators';\r\n\r\nconst Header = () => {\r\n\r\n  const history = useHistory()\r\n  const { isAuth, user } = useSelector(state => state.login)\r\n  const { logout } = useActions(AuthActionCreators)\r\n\r\n  return (\r\n    <Layout.Header>\r\n      <Row justify='end'>\r\n        {isAuth\r\n          ?\r\n          <Menu theme=\"dark\" mode=\"horizontal\">\r\n            <Menu.Item key='1' onClick={() => history.push(PRODUCTS)}>Товары</Menu.Item>\r\n            <Menu.Item key='2' onClick={() => history.push(LOGIN)}>{user.username}</Menu.Item>\r\n            <Menu.Item key='3' onClick={() => logout()}>Выйти</Menu.Item>\r\n            <Menu.Item key='4' onClick={() => history.push(CART)}>Корзина</Menu.Item>\r\n          </Menu>\r\n          :\r\n          <Menu theme=\"dark\" mode=\"horizontal\">\r\n            <Menu.Item key='1' onClick={() => history.push(PRODUCTS)}>Товары</Menu.Item>\r\n            <Menu.Item key='2' onClick={() => history.push(LOGIN)}>Логин</Menu.Item>\r\n            <Menu.Item key='3' onClick={() => alert(\"Пожалуйста войдите\")}>Корзина</Menu.Item>\r\n          </Menu>\r\n        }\r\n      </Row>\r\n    </Layout.Header>\r\n  )\r\n}\r\n\r\nexport default Header","import { useEffect } from 'react';\nimport { BrowserRouter } from 'react-router-dom'\nimport AppRouter from './components/AppRouter';\nimport Header from './components/Header'\nimport { useActions } from './hooks/useActions';\nimport cartActionCreators from './redux/reducers/cart/actionCreator';\nimport { AuthActionCreators } from './redux/reducers/login/actionCreators';\n\nfunction App() {\n\n  const { setUser, setAuth } = useActions(AuthActionCreators)\n  const { addItem, getSum } = useActions(cartActionCreators)\n\n  useEffect(() => {\n    if (localStorage.getItem('auth')) {\n      setUser({ username: localStorage.getItem('username') })\n      setAuth(true)\n    }\n\n    if (localStorage.getItem('cartItems')) {\n      const array = JSON.parse(localStorage.getItem('cartItems'))\n      \n      array.forEach(item => {\n        addItem(item)\n      })\n      getSum()\n    }\n  }, [])\n\n  return (\n    <BrowserRouter>\n      <Header />\n      <AppRouter />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import {  ADD_CART_ITEM, GET_TOTAL_SUM, REMOVE_CART_ITEM } from \"./actions\"\r\n\r\nconst initialState = {\r\n  items: [],\r\n  totalPrice: 0,\r\n}\r\n\r\nconst getTotalSum = (arr) => {\r\n  let sum = 0\r\n  for (let i = 0; i < arr.length; i++) {\r\n    sum += arr[i].price\r\n  }\r\n  return sum\r\n}\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_CART_ITEM: {\r\n      return {...state, items: [...state.items, action.payload]}\r\n    }\r\n    case GET_TOTAL_SUM:\r\n      return {...state, totalPrice: getTotalSum(state.items)}\r\n    case REMOVE_CART_ITEM:\r\n      return {...state,items: [...state.items].filter(item => item.id !== action.payload)}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default cartReducer","import { SET_AUTH, SET_ERROR, SET_IS_LOADING, SET_USER } from \"./actions\"\r\n\r\nconst initialState = {\r\n  isAuth: false,\r\n  isLoading: false,\r\n  error: '',\r\n  user: {},\r\n}\r\n\r\nconst loginReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH:\r\n      return {...state, isAuth: action.payload, isLoading: false}\r\n    case SET_USER:\r\n      return {...state, user: action.payload}\r\n    case SET_ERROR:\r\n      return {...state, error: action.payload, isLoading: false}\r\n    case SET_IS_LOADING:\r\n      return {...state, isLoading: action.payload}\r\n    default: \r\n      return state\r\n  }\r\n}\r\n\r\nexport default loginReducer","import { SET_PRODUCTS, PRODUCTS_ERROR, PRODUCTS_LOADING } from \"./actions\";\r\n\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: '',\r\n  products: [], \r\n}\r\n\r\nconst productsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_PRODUCTS:\r\n      return {...state, products: action.payload, loading: false}\r\n    case PRODUCTS_ERROR:\r\n      return {...state, error: action.payload, loading: false}\r\n    case PRODUCTS_LOADING:\r\n      return {...state, loading: action.payload}\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport default productsReducer","import {combineReducers} from 'redux'\r\nimport cartReducer from './cart/cartReducer'\r\nimport loginReducer from './login/loginReducer'\r\nimport productsReducer from './products/productsReducer'\r\n\r\n\r\nconst rootReducers = combineReducers({\r\n  login: loginReducer,\r\n  products: productsReducer,\r\n  cart: cartReducer,\r\n})\r\n\r\nexport default rootReducers","import { applyMiddleware, createStore } from \"redux\";\r\nimport thunk from 'redux-thunk'\r\nimport rootReducers from \"./reducers/rootReducer\";\r\n\r\nexport const store = createStore(rootReducers, applyMiddleware(thunk))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nimport { Provider } from 'react-redux'\nimport { store } from './redux/store';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}