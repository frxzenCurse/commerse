(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{292:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(24),a=n.n(r),s=n(22),i=n(33),o=n(147),l=n(21),u="/products",j="/login",d="/cart",b="/posts",O="/404",h=n(298),p=n(94),m=n(303),f=n(301),x=n(75),g=Object(c.createContext)(null),v=n(85),y=n.n(v),C=n(6),k=function(e){var t=e.card,n=e.onClick,r=Object(c.useContext)(g);return Object(C.jsx)("div",{className:"dark"===r?"card-dark":"",children:Object(C.jsx)(y.a,{bottom:!0,children:Object(C.jsxs)(f.a,{style:{marginTop:10},type:"inner",title:t.title,extra:Object(C.jsx)(x.a,{type:"dark"===r?"primary":"light",onClick:function(){n(t.id)},children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"}),children:[Object(C.jsx)("p",{children:t.text}),Object(C.jsx)("p",{children:t.price})]})})})},S=n(307),I=n(312),w=function(){var e=Object(c.useContext)(g),t=Object(l.g)();return Object(C.jsx)("div",{className:"dark"===e?"empty-dark":"",children:Object(C.jsx)(S.a,{icon:Object(C.jsx)(I.a,{}),title:"\u0412 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e",extra:Object(C.jsx)(x.a,{type:"dark"===e?"primary":"light",onClick:function(){return t.push(u)},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})})})},E=n(76);function T(e){var t=Object(i.b)();return Object(E.b)(e,t)}var N="ADD_CART_ITEM",_="REMOVE_CART_ITEM",P="GET_TOTAL_SUM",A={addItem:function(e){return{type:N,payload:e}},removeItem:function(e){return{type:_,payload:e}},getSum:function(){return{type:P}}},L=n(311),M=n(308),R=h.a.Content,U=function(){var e=Object(i.c)((function(e){return e.cart})),t=e.items,n=e.totalPrice,r=T(A),a=r.removeItem,s=r.getSum,o=Object(c.useContext)(g);function l(e){a(e),s()}return Object(C.jsx)("div",{style:{padding:60,overflow:"hidden",transition:".3s"},children:Object(C.jsx)(R,{style:{margin:30},children:t.length?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(L.a,{className:"post-list",children:t.map((function(e){return Object(C.jsx)(M.a,{timeout:1500,classNames:"item",children:Object(C.jsx)(k,{card:e,onClick:l})},e.id)}))}),Object(C.jsx)(p.a,{justify:"end",style:{marginTop:30},children:Object(C.jsxs)(m.a.Title,{style:"dark"===o?{color:"rgba(255,255,255,0.85)"}:"",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",n," \u20bd"]})})]}):Object(C.jsx)(w,{})})})},D=n(302),V=n(305),B=n(30),z=n.n(B),J=n(42),q="SET_AUTH",F="SET_USER",G="SET_ERROR",H="SET_IS_LOADING",K=n(64),Q=n.n(K),W={setUser:function(e){return{type:F,payload:e}},setAuth:function(e){return{type:q,payload:e}},setIsLoading:function(e){return{type:H,payload:e}},setError:function(e){return{type:G,payload:e}},login:function(e,t){return function(){var n=Object(J.a)(z.a.mark((function n(c){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{c(W.setIsLoading(!0)),setTimeout(Object(J.a)(z.a.mark((function n(){var r,a;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Q.a.get("./users.json");case 2:r=n.sent,(a=r.data.find((function(n){return n.username===e&&n.password===t})))?(localStorage.setItem("auth","true"),localStorage.setItem("username",a.username),c(W.setAuth(!0)),c(W.setUser(a))):c(W.setError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"));case 5:case"end":return n.stop()}}),n)}))),1e3)}catch(r){c(W.setError("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"))}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},logout:function(){return function(e){localStorage.removeItem("auth"),localStorage.removeItem("username"),e(W.setAuth(!1)),e(W.setUser({}))}}},X=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(s.a)(a,2),j=o[0],d=o[1],b=Object(c.useContext)(g),O=Object(i.c)((function(e){return e.login})),h=O.error,m=O.isLoading,f=O.isAuth,v=T(W),y=v.login,k=v.setError,S=Object(l.g)();return Object(c.useEffect)((function(){f&&(S.push(u),k(""))}),[f]),Object(C.jsx)("div",{className:"dark"===b?"form-dark":"",children:Object(C.jsx)(p.a,{justify:"center",style:{marginTop:50},children:Object(C.jsxs)(D.a,{onFinish:function(){y(n,j)},children:[h&&Object(C.jsx)("div",{style:{color:"red",marginBottom:10},children:h}),Object(C.jsx)(D.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(C.jsx)(V.a,{value:n,onChange:function(e){return r(e.target.value)}})}),Object(C.jsx)(D.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(C.jsx)(V.a.Password,{value:j,onChange:function(e){return d(e.target.value)}})}),Object(C.jsx)(D.a.Item,{wrapperCol:{offset:8,span:16},children:Object(C.jsx)(x.a,{type:"primary",htmlType:"submit",loading:m,children:"Submit"})})]})})})},Y=n(57),Z=function(e){var t=e.value,n=e.onChange,r=Object(c.useContext)(g);return Object(C.jsx)("div",{style:{marginBottom:40},className:"dark"===r?"input-dark":"",children:Object(C.jsx)(V.a,{value:t,onChange:function(e){return n(e)},placeholder:"Search"})})},$=function(e){var t=e.card,n=e.onClick,r=e.modalHandler,a=Object(c.useState)(!1),o=Object(s.a)(a,2),l=o[0],u=o[1],j=Object(i.c)((function(e){return e.cart})).items,d=Object(i.c)((function(e){return e.login})).isAuth,b=Object(c.useContext)(g);return Object(c.useEffect)((function(){j.forEach((function(e){e.id===t.id&&u(!l)}))}),[]),Object(C.jsx)(y.a,{bottom:!0,children:Object(C.jsx)("div",{className:"dark"===b?"card-dark":"",style:{margin:10},children:Object(C.jsx)(f.a,{className:"card",title:t.title,children:Object(C.jsxs)("div",{className:"column",children:[Object(C.jsx)("div",{className:"column__item",children:Object(C.jsx)("p",{children:t.text})}),Object(C.jsxs)("div",{className:"column__item",children:[Object(C.jsxs)("p",{children:[t.price," \u20bd"]}),Object(C.jsx)(x.a,{type:"light"===b?"light":"primary",onClick:function(){d?(n(t),u(!l)):r()},disabled:l,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})})})},ee=function(e){var t=e.cards,n=e.onClick,c=T(A),r=c.addItem,a=c.getSum;function s(e){r(e),a()}return Object(C.jsx)("div",{className:"container",children:t.length?t.map((function(e){return Object(C.jsx)($,{card:e,onClick:s,modalHandler:n},e.id)})):Object(C.jsx)(m.a.Title,{style:{marginLeft:10},children:"\u0422\u0430\u043a\u0438\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0435\u0442!"})})},te=n(104),ne=te.a.Option,ce=function(e){var t=e.placeholder,n=e.options,r=e.onChange,a=Object(c.useContext)(g);return Object(C.jsx)("div",{className:"dark"===a?"select-dark":"",children:Object(C.jsx)(te.a,{placeholder:t,style:{width:220},onChange:r,children:n.map((function(e){return Object(C.jsx)(ne,{value:e.value,children:e.name},e.value)}))})})},re=n(56),ae=function(e,t,n){var r=Object(c.useMemo)((function(){return t?Object(re.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[e,t]);return Object(c.useMemo)((function(){return Object(re.a)(r).filter((function(e){return e.title.includes(n.toLowerCase())}))}),[r,n])},se="SET_PRODUCTS",ie="PRODUCTS_ERROR",oe="PRODUCTS_LOADING",le={setLoading:function(e){return{type:oe,payload:e}},setError:function(e){return{type:ie,payload:e}},setProducts:function(e){return{type:se,payload:e}},fetchProducts:function(){return function(){var e=Object(J.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(le.setLoading(!0)),setTimeout(Object(J.a)(z.a.mark((function e(){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/products.json");case 2:n=e.sent,t(le.setProducts(n.data));case 4:case"end":return e.stop()}}),e)}))),400)}catch(n){t(le.setError("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0431\u0448\u0438\u0431\u043a\u0430: ".concat(n)))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ue=n(178),je=n(62),de=Object(C.jsx)(je.a,{style:{fontSize:150,color:"blue"},spin:!0}),be=function(){return Object(C.jsx)(p.a,{style:{height:"80vh"},justify:"center",align:"middle",children:Object(C.jsx)(ue.a,{indicator:de})})},Oe=n(304),he=function(e){var t=e.isModalVisible,n=e.onClick,r=Object(l.g)(),a=Object(c.useContext)(g);return Object(C.jsx)(Oe.a,{title:"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b",visible:t,onCancel:n,onOk:function(){r.push(j),n()},className:"dark"===a?"modal-dark":"",children:Object(C.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043b\u043e\u0433\u0438\u043d\u0430 \u0438 \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0432\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})},pe=h.a.Content,me=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(s.a)(a,2),l=o[0],u=o[1],j=Object(c.useState)(!1),d=Object(s.a)(j,2),b=d[0],O=d[1],h=Object(i.c)((function(e){return e.products})),m=h.products,f=h.loading,x=T(le).fetchProducts,g=Object(i.c)((function(e){return e.login})).isAuth;Object(c.useEffect)((function(){x()}),[]);var v=ae(m,l,n);function y(){O(!b)}return Object(C.jsx)("div",{style:{padding:60,overflow:"hidden",transition:".3s"},children:Object(C.jsxs)(pe,{children:[Object(C.jsxs)(p.a,{children:[Object(C.jsx)(Y.a,{span:6,children:Object(C.jsx)(ce,{placeholder:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",options:[{value:"title",name:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"text",name:"\u041f\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044e"}],onChange:function(e){u(e)}})}),Object(C.jsx)(Y.a,{span:18,children:Object(C.jsx)(Z,{value:n,onChange:function(e){return r(e.target.value)}})})]}),f?Object(C.jsx)(be,{}):Object(C.jsx)(ee,{cards:v,onClick:y}),!g&&Object(C.jsx)(he,{isModalVisible:b,onClick:y})]})})},fe=function(e){var t=e.post,n=e.onClick,r=Object(c.useContext)(g),a=Object(l.g)();return Object(C.jsx)("div",{className:"dark"===r?"card-dark":"",children:Object(C.jsx)(y.a,{bottom:!0,children:Object(C.jsxs)(f.a,{type:"inner",title:t.title,extra:Object(C.jsx)(x.a,{type:"light"===r?"light":"primary",onClick:function(){return a.push("/post/"+t.id)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),style:{marginTop:20},children:[Object(C.jsx)("div",{children:t.body}),Object(C.jsx)(x.a,{onClick:function(){n(t.id)},style:{marginTop:10},type:"light"===r?"light":"primary",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})]})})})},xe=n(95),ge=function(e){var t=e.posts,n=e.removePost;return Object(C.jsx)("div",{children:t.length?Object(C.jsx)(L.a,{className:"post-list",children:t.map((function(e){return Object(C.jsx)(M.a,{timeout:1500,classNames:"item",children:Object(C.jsx)(fe,{post:e,onClick:n})},e.id)}))}):Object(C.jsx)(xe.a,{})})},ve=n(182),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Q.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:e,_page:t}})},Ce=function(e){return Q.a.get("https://jsonplaceholder.typicode.com/posts/"+e)},ke=function(e){return Q.a.get("https://jsonplaceholder.typicode.com/photos/"+e)},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Q.a.get("https://jsonplaceholder.typicode.com/comments",{params:{_page:e}})},Ie=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),o=Object(s.a)(i,2),l=o[0],u=o[1],j=function(){var t=Object(J.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 ".concat(t.t0));case 9:return t.prev=9,u(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[j,l,r]},we=n(103),Ee=function(e){var t,n=e.isModalVisible,r=e.handleOk,a=e.closeModal,i=Object(c.useState)(""),o=Object(s.a)(i,2),l=o[0],u=o[1],j=Object(c.useState)(""),d=Object(s.a)(j,2),b=d[0],O=d[1],h=Object(c.useRef)(),p=Object(c.useContext)(g);return Object(C.jsx)(Oe.a,{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",visible:n,onCancel:a,footer:null,className:"dark"===p?"modal-dark":"",children:Object(C.jsxs)(D.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},autoComplete:"off",onFinish:function(){u(""),O(""),r(l,b),h.current.resetFields()},ref:h,children:[Object(C.jsx)(D.a.Item,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"title",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u043e\u0441\u0442\u0430"}],children:Object(C.jsx)(V.a,{value:l,onChange:function(e){return u(e.target.value)}})}),Object(C.jsx)(D.a.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"body",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430"}],children:Object(C.jsx)(V.a,{value:b,onChange:function(e){return O(e.target.value)}})}),Object(C.jsx)(D.a.Item,{wrapperCol:{offset:8,span:16},children:Object(C.jsx)(x.a,(t={type:"primary",htmlType:"submit"},Object(we.a)(t,"type","light"===p?"light":"primary"),Object(we.a)(t,"children","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"),t))})]})})},Te=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],l=i[1],u=Object(c.useState)(""),j=Object(s.a)(u,2),d=j[0],b=j[1],O=Object(c.useState)(""),h=Object(s.a)(O,2),m=h[0],f=h[1],v=Object(c.useState)(1),y=Object(s.a)(v,2),k=y[0],S=y[1],I=Object(c.useState)(0),w=Object(s.a)(I,2),E=w[0],T=w[1],N=Object(c.useState)(!0),_=Object(s.a)(N,2),P=_[0],A=_[1],L=Object(c.useContext)(g),M=ae(o,m,d),R=Ie(Object(J.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(10,k);case 2:t=e.sent,P&&(T(t.headers["x-total-count"]),l(t.data));case 4:case"end":return e.stop()}}),e)})))),U=Object(s.a)(R,3),D=U[0],V=U[1],B=U[2];function q(){r(!n)}return Object(c.useEffect)((function(){return D(),function(){return A(!1)}}),[k]),Object(C.jsxs)("div",{style:{padding:60,overflow:"hidden",transition:".3s"},children:[Object(C.jsxs)(p.a,{children:[Object(C.jsxs)(Y.a,{span:6,children:[Object(C.jsx)(ce,{placeholder:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",options:[{value:"title",name:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"body",name:"\u041f\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044e"}],onChange:function(e){f(e)}}),Object(C.jsx)("div",{style:{marginTop:15},children:Object(C.jsx)(x.a,{onClick:q,type:"light"===L?"light":"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})})]}),Object(C.jsx)(Y.a,{span:18,children:Object(C.jsx)(Z,{value:d,onChange:function(e){return b(e.target.value)}})})]}),B&&Object(C.jsx)("h1",{style:{color:"red"},children:B}),V?Object(C.jsx)(be,{}):Object(C.jsx)(ge,{posts:M,removePost:function(e){l(Object(re.a)(o).filter((function(t){return t.id!==e})))}}),Object(C.jsx)(ve.a,{style:{marginTop:20,display:"flex",justifyContent:"center"},defaultCurrent:k,showSizeChanger:!1,total:10*Math.ceil(E/10),onChange:function(e){return S(e)}}),Object(C.jsx)(Ee,{isModalVisible:n,handleOk:function(e,t){l([{id:Date.now(),title:e,body:t}].concat(Object(re.a)(o))),r(!n)},closeModal:q})]})},Ne=n(300),_e=n(299),Pe=function(){var e=T(le).fetchProducts,t=Object(i.c)((function(e){return e.products})),n=t.products,r=t.loading,a=T(A),s=a.addItem,o=a.getSum;function l(e){s(e),o()}return Object(c.useEffect)((function(){n.length||e()}),[]),Object(C.jsx)("div",{children:r?Object(C.jsx)(be,{}):Object(C.jsx)(Ne.a,{style:{marginTop:30},spaceBetween:40,slidesPerView:3,children:n.map((function(e){return Object(C.jsx)(_e.a,{children:Object(C.jsx)($,{className:"card",card:e,onClick:l})},e.id)}))})})},Ae=n(310),Le=function(e){var t=e.data,n=Object(c.useContext)(g);return Object(C.jsx)("div",{className:"dark"===n?"list-dark":"",children:Object(C.jsx)(Ae.b,{className:"demo-loadmore-list",itemLayout:"horizontal",dataSource:t,renderItem:function(e){return Object(C.jsx)(Ae.b.Item,{children:Object(C.jsx)(Ae.b.Item.Meta,{title:Object(C.jsx)("div",{children:e.name}),description:e.body})})}})})},Me=f.a.Meta,Re=function(e){var t=e.post,n=e.img,r=e.pageId,a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],l=i[1],u=Object(c.useState)(!1),j=Object(s.a)(u,2),d=j[0],b=j[1],O=Object(c.useContext)(g),h=Ie(Object(J.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(r);case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})))),p=Object(s.a)(h,3),m=p[0],v=p[1],y=p[2];return Object(C.jsx)("div",{className:"dark"===O?"card-dark":"",children:Object(C.jsxs)(f.a,{style:{marginBottom:30},type:"inner",cover:Object(C.jsx)("img",{style:{width:300,height:300},src:n,alt:""}),children:[Object(C.jsx)(Me,{title:t.title,description:t.body}),Object(C.jsxs)("div",{style:{margin:10},children:[Object(C.jsx)(x.a,{onClick:function(){d?(l([]),b(!d)):(m(),b(!d))},loading:v,block:!0,type:"light"===O?"light":"primary",children:d?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),y&&Object(C.jsx)("h1",{style:{color:"red"},children:y}),o.length?Object(C.jsx)(Le,{data:o}):""]})]})})},Ue=[{path:u,component:me},{path:j,component:X},{path:d,component:U},{path:b,component:Te},{path:"/post/:id",component:function(){var e=Object(c.useState)({}),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],u=i[1],j=Object(c.useState)(!0),d=Object(s.a)(j,2),O=d[0],h=d[1],p=Object(l.h)(),m=Object(l.g)(),f=Object(c.useContext)(g),v=Ie(Object(J.a)(z.a.mark((function e(){var t,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(p.id);case 2:return t=e.sent,e.next=5,ke(p.id);case 5:n=e.sent,O&&(u(n.data.url),r(t.data));case 7:case"end":return e.stop()}}),e)})))),y=Object(s.a)(v,3),k=y[0],S=y[1],I=y[2];return Object(c.useEffect)((function(){return k(),function(){return h(!1)}}),[]),Object(C.jsxs)("div",{style:{padding:60,transition:".3s"},className:"dark"===f?"dark":"",children:[I&&Object(C.jsx)("h1",{style:{color:"red"},children:I}),S?Object(C.jsx)(be,{}):Object(C.jsx)(Re,{post:n,img:o,pageId:p.id}),Object(C.jsx)(x.a,{onClick:function(){return m.push(b)},type:"light"===f?"light":"primary",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"}),Object(C.jsx)(Pe,{})]})}},{path:O,component:function(){var e=Object(l.g)(),t=Object(c.useContext)(g);return Object(C.jsx)("div",{className:"dark"===t?"page404-dark":"",children:Object(C.jsx)(S.a,{status:"404",title:"404",subTitle:"\u0423\u043f\u0441, \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",extra:Object(C.jsx)(x.a,{type:"light"===t?"light":"primary",onClick:function(){return e.push(u)},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})})})}}],De=function(){return Object(C.jsxs)(l.d,{children:[Ue.map((function(e){var t=e.path,n=e.component;return Object(C.jsx)(l.b,{path:t,component:n,exact:!0},t)})),Object(C.jsx)(l.a,{to:O})]})},Ve=n(309),Be=n(306),ze=function(e){var t=e.onChange,n=e.theme;return Object(C.jsx)("div",{children:n&&Object(C.jsxs)(Be.a.Group,{defaultValue:n,buttonStyle:"solid",onChange:t,children:[Object(C.jsx)(Be.a.Button,{value:"light",children:"Light"}),Object(C.jsx)(Be.a.Button,{value:"dark",children:"Dark"})]})})},Je=function(e){var t=e.onClick,n=e.themeChange,r=e.theme,a=Object(l.g)(),s=Object(i.c)((function(e){return e})),o=T(W).logout,O=Object(c.useContext)(g);return Object(C.jsx)(h.a.Header,{style:{height:65,transition:".3s"},className:"light"===O?"header-light":"header-dark",children:Object(C.jsxs)(p.a,{justify:"space-between",children:[Object(C.jsx)(Y.a,{children:Object(C.jsx)(ze,{onChange:function(e){return n(e.target.value)},theme:r})}),Object(C.jsx)(Y.a,{children:s.login.isAuth?Object(C.jsxs)(Ve.a,{disabledOverflow:!0,theme:"light"===O?"light":"dark",mode:"horizontal",children:[Object(C.jsx)(Ve.a.Item,{onClick:function(){return a.push(b)},children:"\u041f\u043e\u0441\u0442\u044b"},"posts"),Object(C.jsx)(Ve.a.Item,{onClick:function(){return a.push(u)},children:"\u0422\u043e\u0432\u0430\u0440\u044b"},"2"),Object(C.jsx)(Ve.a.Item,{style:{pointerEvents:"none"},children:s.login.user.username},"3"),Object(C.jsx)(Ve.a.Item,{onClick:function(){return o()},children:"\u0412\u044b\u0439\u0442\u0438"},"4"),Object(C.jsxs)(Ve.a.Item,{onClick:function(){return a.push(d)},children:[s.cart.items.length," \u041a\u043e\u0440\u0437\u0438\u043d\u0430"]},"5")]}):Object(C.jsxs)(Ve.a,{disabledOverflow:!0,theme:"light"===O?"light":"dark",mode:"horizontal",children:[Object(C.jsx)(Ve.a.Item,{onClick:function(){return a.push(b)},children:"\u041f\u043e\u0441\u0442\u044b"},"4"),Object(C.jsx)(Ve.a.Item,{onClick:function(){return a.push(u)},children:"\u0422\u043e\u0432\u0430\u0440\u044b"},"1"),Object(C.jsx)(Ve.a.Item,{onClick:function(){return a.push(j)},children:"\u041b\u043e\u0433\u0438\u043d"},"2"),Object(C.jsx)(Ve.a.Item,{onClick:t,children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"},"3")]})})]})})};var qe=function(){var e=T(W),t=e.setUser,n=e.setAuth,r=T(A),a=r.addItem,l=r.getSum,u=Object(i.c)((function(e){return e.login})).isAuth,j=Object(c.useState)(!1),d=Object(s.a)(j,2),b=d[0],O=d[1],h=Object(c.useState)(""),p=Object(s.a)(h,2),m=p[0],f=p[1];function x(){O(!b)}return Object(c.useEffect)((function(){(localStorage.getItem("auth")&&(t({username:localStorage.getItem("username")}),n(!0)),localStorage.getItem("theme")?f(localStorage.getItem("theme")):f("light"),localStorage.getItem("cartItems"))&&(JSON.parse(localStorage.getItem("cartItems")).forEach((function(e){a(e)})),l())}),[]),Object(c.useEffect)((function(){"dark"===m?document.body.classList.add("dark"):document.body.classList.remove("dark"),localStorage.setItem("theme",m)}),[m]),Object(C.jsx)(g.Provider,{value:m,children:Object(C.jsxs)(o.a,{children:[Object(C.jsx)(Je,{onClick:x,themeChange:function(e){f(e)},theme:m}),Object(C.jsx)(De,{}),!u&&Object(C.jsx)(he,{isModalVisible:b,onClick:x})]})})},Fe=(n(292),n(180)),Ge=n(27),He={items:[],totalPrice:0},Ke=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].price;return t},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var n=[].concat(Object(re.a)(e.items),[t.payload]);return localStorage.setItem("cartItems",JSON.stringify(n)),Object(Ge.a)(Object(Ge.a)({},e),{},{items:[].concat(Object(re.a)(e.items),[t.payload])});case P:return Object(Ge.a)(Object(Ge.a)({},e),{},{totalPrice:Ke(e.items)});case _:var c=Object(re.a)(e.items).filter((function(e){return e.id!==t.payload}));return localStorage.setItem("cartItems",JSON.stringify(c)),Object(Ge.a)(Object(Ge.a)({},e),{},{items:Object(re.a)(e.items).filter((function(e){return e.id!==t.payload}))});default:return e}},We={isAuth:!1,isLoading:!1,error:"",user:{}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(Ge.a)(Object(Ge.a)({},e),{},{isAuth:t.payload,isLoading:!1});case F:return Object(Ge.a)(Object(Ge.a)({},e),{},{user:t.payload});case G:return Object(Ge.a)(Object(Ge.a)({},e),{},{error:t.payload,isLoading:!1});case H:return Object(Ge.a)(Object(Ge.a)({},e),{},{isLoading:t.payload});default:return e}},Ye={loading:!1,error:"",products:[]},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(Ge.a)(Object(Ge.a)({},e),{},{products:t.payload,loading:!1});case ie:return Object(Ge.a)(Object(Ge.a)({},e),{},{error:t.payload,loading:!1});case oe:return Object(Ge.a)(Object(Ge.a)({},e),{},{loading:t.payload});default:return e}},$e=Object(E.c)({login:Xe,products:Ze,cart:Qe}),et=Object(E.d)($e,Object(E.a)(Fe.a));n(293),n(294);a.a.render(Object(C.jsx)(i.a,{store:et,children:Object(C.jsx)(qe,{})}),document.getElementById("root"))}},[[295,1,2]]]);
//# sourceMappingURL=main.8985002e.chunk.js.map